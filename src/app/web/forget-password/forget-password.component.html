<div class="container pt-5">
    <div class="row justify-content-center" id="loginbox">
        <div class="col-sm-4">
            <div class="text-center mb-4">
                <img src="assets/images/FleetExpress-Login-logo.svg">
            </div>
            <ng-container *ngIf="generateOTPContain">
                <div class="card card-body">
                    <form [formGroup]="sendOTPForm">
                        <h4>SEND OTP</h4>
                        <div class="form-container">
                            <div class="mb-0">
                                <!-- <label class="form-label">Username</label> -->
                                <div class="d-block">
                                    <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Mobile Number</mat-label>
                                        <input matInput placeholder="Mobile Number" formControlName="mobileNo"
                                            (keypress)="vs.onlyDigits($event)" [maxLength]="10" autocomplete="off">
                                    </mat-form-field>
                                    <mat-error *ngIf="mobileNoSubmitted && sendOtp['mobileNo'].errors">
                                        <span class="text-danger"
                                            *ngIf="mobileNoSubmitted && sendOtp['mobileNo'].hasError('required')">Please
                                            enter
                                            mobile Number</span>
                                        <span class="text-danger"
                                            *ngIf="mobileNoSubmitted && sendOtp['mobileNo'].hasError('pattern')">Enter
                                            valid
                                            mobile Number</span>
                                    </mat-error>
                                </div>
                            </div>
                            <div class="mb-0">
                                <button type="submit" class="btn btn-main w-100" (click)="sendOTP()">SEND OTP</button>
                            </div>
                        </div>
                    </form>
                </div>
            </ng-container>
            <ng-container *ngIf="OTPContainer">
                <div class="card card-body">
                    <form [formGroup]="verifyOTPForm">
                        <h4>SUBMIT OTP</h4>
                        <div class="form-container">
                            <div class="row mb-0">
                                <!-- <label class="form-label">Username</label> -->
                                <div class="col-sm-2">
                                    <mat-form-field appearance="outline" class="w-100">
                                        <input matInput formControlName="otpA" class="text-center" [maxLength]="1"
                                            #input1 (keyup)="(input1.value.length == 1) ? input2.focus() : ''"
                                            autocomplete="off" value="otpA |upperCase">
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field appearance="outline" class="w-100">
                                        <input matInput formControlName="otpB" class="text-center" [maxLength]="1"
                                            #input2 (keyup)="(input1.value.length == 1) ? input3.focus() : ''"
                                            autocomplete="off">
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field appearance="outline" class="w-100">
                                        <input matInput formControlName="otpC" class="text-center" [maxLength]="1"
                                            #input3 (keyup)="(input1.value.length == 1) ? input4.focus() : ''"
                                            autocomplete="off">
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field appearance="outline" class="w-100">
                                        <input matInput formControlName="otpD" class="text-center" [maxLength]="1"
                                            #input4 (keyup)="(input1.value.length == 1) ? input5.focus() : ''"
                                            autocomplete="off">
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-2">
                                    <mat-form-field appearance="outline" class="w-100">
                                        <input matInput formControlName="otpE" class="text-center" [maxLength]="1"
                                            #input5 (keyup)="(input1.value.length == 1) ? input5.focus() : ''"
                                            autocomplete="off">
                                    </mat-form-field>
                                </div>
                                <span style="color:#3f51b5; font-size: 15px;" class="fw-bold text-center">
                                    <button mat-button color="primary" class="mb-2 fw-bolder" (click)="sendOTP()"
                                        [disabled]="timerFlag">Reset otp</button>{{timer}}</span>
                            </div>
                            <div class="mb-0">
                                <button class="btn btn-main w-100" (click)="verifyOTP()">SUBMIT</button>
                            </div>
                        </div>
                    </form>
                </div>
            </ng-container>
            <ng-container *ngIf="passContainer">
                <div class="card card-body">
                    <form [formGroup]="changePassword" (ngSubmit)="onSubmit()">
                        <h4>NEW PASSWORD</h4>
                        <div class="form-container">
                            <div class="mb-0 form-group">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Password</mat-label>
                                    <input matInput [type]="hide1 ? 'password' : 'text'" formControlName="password"
                                        autocomplete="off" minlength="8" maxlength="20">
                                    <button mat-icon-button matSuffix type="button" (click)="hide1 = !hide1"
                                        [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide"
                                        autocomplete="off">
                                        <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                    </button>
                                    <mat-error *ngIf="passwordChenged && passChange['password'].errors">
                                        <span class="text-danger"
                                            *ngIf="passwordChenged && passChange['password'].hasError('pattern')">Please
                                            enter valid password</span>
                                        <span class="text-danger"
                                            *ngIf="passwordChenged && passChange['password'].hasError('maxLength')">Enter
                                            valid password</span>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="mb-3 form-group">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Retype Password</mat-label>
                                    <input matInput [type]="hide2 ? 'password' : 'text'"
                                        formControlName="confirmPassword" autocomplete="off">
                                    <button mat-icon-button matSuffix type="button" (click)="hide2 = !hide2"
                                        [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                        <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                    </button>
                                    <mat-error *ngIf="passwordChenged && passChange['confirmPassword'].errors">
                                        <span class="text-danger"
                                            *ngIf="passwordChenged && passChange['confirmPassword'].hasError('required')">Please
                                            enter
                                            password</span>

                                    </mat-error>
                                </mat-form-field>
                                <div class="form-text text-danger small">
                                    <i class="fa-regular fa-circle-question me-2"></i>Your password must be between 8 to
                                    20
                                    characters.
                                </div>
                            </div>
                            <div class="mb-0">
                                <button class="btn btn-main w-100">SUBMIT</button>
                            </div>
                        </div>
                    </form>
                </div>
            </ng-container>
        </div>
    </div>
</div>