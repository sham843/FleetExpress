<div class="container pt-5">
    <div class="row justify-content-center" id="loginbox">
        <div class="col-sm-4">
            <div class="text-center mb-4">
                <img src="assets/images/FleetExpress-Login-logo.svg">
            </div>
            <div class="card card-body" *ngIf="beforeSendOPT">
                <form [formGroup]="sendOTPForm"  (ngSubmit)="sendOTP()">
                    <h4>SEND OTP</h4>
                    <div class="form-container">
                        <div class="mb-0">
                            <!-- <label class="form-label">Username</label> -->
                            <div class="d-block">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Mobile Number</mat-label>
                                    <input matInput placeholder="Mobile Number" formControlName="mobileNo"
                                    (keypress)="vs.onlyDigits($event)" [maxLength]="10" >
                                </mat-form-field>
                                <mat-error *ngIf="sendOTPSubmitte && sf['mobileNo'].errors">
                                    <span class="text-danger" *ngIf="sendOTPSubmitte && sf['mobileNo'].hasError('required')">Please enter mobile Number</span>
                                    <span class="text-danger" *ngIf="sendOTPSubmitte && sf['mobileNo'].hasError('pattern')">Enter valid mobile Number</span>
                                </mat-error>
                            </div>
                        </div>
                        <div class="mb-0">
                            <button type="submit" class="btn btn-main w-100">SEND OTP</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card card-body" *ngIf="afterSendOPT">
                <form [formGroup]="verifyOTPForm" (ngSubmit)="verifyOTP()">
                    <h4>SUBMIT OTP</h4>
                    <div class="form-container">
                        <div class="row mb-0">
                            <!-- <label class="form-label">Username</label> -->
                            <div class="col-sm-3">
                                <mat-form-field appearance="outline" class="w-100">
                                    <input matInput formControlName="otpA" class="text-center" (keypress)="vs.onlyDigits($event)" [maxLength]="1" #input1 (keyup)="(input1.value.length == 1) ? input2.focus() : ''">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3">
                                <mat-form-field appearance="outline" class="w-100">
                                    <input matInput formControlName="otpB" class="text-center" (keypress)="vs.onlyDigits($event)" [maxLength]="1" #input2  (keyup)="(input1.value.length == 1) ? input3.focus() : ''">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3">
                                <mat-form-field appearance="outline" class="w-100">
                                    <input matInput formControlName="otpC" class="text-center" (keypress)="vs.onlyDigits($event)" [maxLength]="1" #input3 (keyup)="(input1.value.length == 1) ? input4.focus() : ''">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3">
                                <mat-form-field appearance="outline" class="w-100">
                                    <input matInput formControlName="otpD" class="text-center" (keypress)="vs.onlyDigits($event)" [maxLength]="1"  #input4 (keyup)="(input1.value.length == 1) ? input4.focus() : ''">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="mb-0">
                            <button class="btn btn-main w-100">SUBMIT</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card card-body" *ngIf="newPassword">
                <form [formGroup]="verifyOTPForm" (ngSubmit)="onSubmit()">
                    <h4>NEW PASSWORD</h4>
                    <div class="form-container">
                        <div class="mb-0">
                            <mat-form-field appearance="outline" class="w-100">
                                <mat-label>Password</mat-label>
                                <input matInput [type]="hide1 ? 'password' : 'text'">
                                <button mat-icon-button matSuffix type="button" (click)="hide1 = !hide1" [attr.aria-label]="'Hide password'"
                                    [attr.aria-pressed]="hide">
                                    <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>
                            </mat-form-field>
                        </div>
                        <div class="mb-3">
                            <mat-form-field appearance="outline" class="w-100">
                                <mat-label>Retype Password</mat-label>
                                <input matInput [type]="hide2 ? 'password' : 'text'">
                                <button mat-icon-button matSuffix  type="button" (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'"
                                    [attr.aria-pressed]="hide">
                                    <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>
                            </mat-form-field>
                            <div class="form-text text-danger small">
                                <i class="fa-regular fa-circle-question me-2"></i>Your password must be between 8 to 20 characters.
                            </div>
                        </div>
                        <div class="mb-0">
                            <button class="btn btn-main w-100">SUBMIT</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>